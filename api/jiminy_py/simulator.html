

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>simulator &mdash; jiminy 1.6.21 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="dynamics" href="dynamics.html" />
    <link rel="prev" title="robot" href="robot.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> jiminy
          

          
            
            <img src="../../_static/jiminy_logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.6.21
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">README</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">Key features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#gym-jiminy">Gym Jiminy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#demo">Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#getting-started">Getting started</a></li>
</ul>
<p class="caption"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../INSTALL.html">Linux-based OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../INSTALL.html#windows-os">Windows OS</a></li>
</ul>
<p class="caption"><span class="caption-text">TUTORIALS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">An introduction to Jiminy</a></li>
</ul>
<p class="caption"><span class="caption-text">API DOC</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../jiminy/index.html">Jiminy C++ API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Jiminy Python API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core/index.html">core</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot.html">robot</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamics.html">dynamics</a></li>
<li class="toctree-l2"><a class="reference internal" href="viewer.html">viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="processing.html">processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="state.html">state</a></li>
<li class="toctree-l2"><a class="reference internal" href="log.html">log</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gym_jiminy/common/index.html">Gym Jiminy API</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Specifications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../spec/src/tlmc_format_specification.html"><code class="docutils literal notranslate"><span class="pre">tlmc</span></code> Version 1 format specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spec/pdf/index.html">Downloadable PDF</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">jiminy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Jiminy Python API</a> &raquo;</li>
        
      <li>simulator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/api/jiminy_py/simulator.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-jiminy_py.simulator">
<span id="simulator"></span><h1>simulator<a class="headerlink" href="#module-jiminy_py.simulator" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">jiminy_py.simulator.</span></span><span class="sig-name descname"><span class="pre">Simulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">robot</span></em>, <em class="sig-param"><span class="pre">controller=None</span></em>, <em class="sig-param"><span class="pre">engine_class=&lt;class</span> <span class="pre">'jiminy_py.core.Engine'&gt;</span></em>, <em class="sig-param"><span class="pre">use_theoretical_model=False</span></em>, <em class="sig-param"><span class="pre">viewer_backend=None</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class wraps the different submodules of Jiminy, namely the robot,
controller, engine, and viewer, as a single simulation environment. The
user only as to create a robot and associated controller if any, and
give high-level instructions to the simulator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>robot</strong> (<a class="reference internal" href="core/robot.html#jiminy_py.core.Robot" title="jiminy_py.core.Robot"><em>jiminy_py.core.Robot</em></a>) – Jiminy robot already initialized.</p></li>
<li><p><strong>controller</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="core/controller.html#jiminy_py.core.AbstractController" title="jiminy_py.core.AbstractController"><em>jiminy_py.core.AbstractController</em></a><em>]</em>) – Jiminy (observer-)controller already initialized.
Optional: None by default.</p></li>
<li><p><strong>engine_class</strong> (<em>Type</em><em>[</em><a class="reference internal" href="core/engine.html#jiminy_py.core.Engine" title="jiminy_py.core.Engine"><em>jiminy_py.core.Engine</em></a><em>]</em>) – Class of engine to use.
Optional: jiminy_py.core.Engine by default.</p></li>
<li><p><strong>use_theoretical_model</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Whether the state corresponds to the
theoretical model when updating and
fetching the robot’s state.</p></li>
<li><p><strong>viewer_backend</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) – Backend of the viewer, e.g. panda3d or meshcat.
Optional: It is setup-dependent. See <cite>Viewer</cite>
documentation for details about it.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) – Used arguments to allow automatic pipeline wrapper
generation.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.build">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">urdf_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hardware_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_freeflyer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avoid_instable_collisions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new simulator instance from scratch, based on configuration
files only.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>urdf_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path of the urdf model to be used for the simulation.</p></li>
<li><p><strong>hardware_path</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) – Path of Jiminy hardware description toml file.
Optional: Looking for ‘<a href="#id1"><span class="problematic" id="id2">*</span></a>_hardware.toml’ file in
the same folder and with the same name.</p></li>
<li><p><strong>mesh_path</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) – Path to the folder containing the model meshes.
Optional: Env variable ‘JIMINY_DATA_PATH’ will be
used if available.</p></li>
<li><p><strong>has_freeflyer</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Whether the robot is fixed-based wrt its root
link, or can move freely in the world.
Optional: True by default.</p></li>
<li><p><strong>config_path</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) – Configuration toml file to import. It will be
imported AFTER loading the hardware description
file. It can be automatically generated from an
instance by calling <cite>export_config_file</cite> method.
Optional: Looking for ‘<a href="#id3"><span class="problematic" id="id4">*</span></a>_options.toml’ file in the
same folder and with the same name. If not found,
using default configuration.</p></li>
<li><p><strong>avoid_instable_collisions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Prevent numerical instabilities by
replacing collision mesh by vertices
of associated minimal volume bounding
box, and replacing primitive box by
its vertices.</p></li>
<li><p><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Whether or not the debug mode must be activated.
Doing it enables temporary files automatic deletion.</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments to forward to class constructor.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#jiminy_py.simulator.Simulator" title="jiminy_py.simulator.Simulator">jiminy_py.simulator.Simulator</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.pinocchio_model">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">pinocchio_model</span></span><em class="property"><span class="pre">:</span> <span class="pre">pinocchio.pinocchio_pywrap.Model</span></em><a class="headerlink" href="#jiminy_py.simulator.Simulator.pinocchio_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter of the pinocchio model, depending on the value of
‘use_theoretical_model’.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.pinocchio_data">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">pinocchio_data</span></span><em class="property"><span class="pre">:</span> <span class="pre">pinocchio.pinocchio_pywrap.Data</span></em><a class="headerlink" href="#jiminy_py.simulator.Simulator.pinocchio_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter of the pinocchio data, depending on the value of
‘use_theoretical_model’.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.state">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="pre">:</span> <span class="pre">Tuple[numpy.ndarray,</span> <span class="pre">numpy.ndarray]</span></em><a class="headerlink" href="#jiminy_py.simulator.Simulator.state" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter of the current state of the robot.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Return a reference whenever it is possible, which is
computationally efficient but unsafe.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.log_data">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">log_data</span></span><em class="property"><span class="pre">:</span> <span class="pre">Dict[str,</span> <span class="pre">numpy.ndarray]</span></em><a class="headerlink" href="#jiminy_py.simulator.Simulator.log_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter of the telemetry variables.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.log_constants">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">log_constants</span></span><em class="property"><span class="pre">:</span> <span class="pre">Dict[str,</span> <span class="pre">str]</span></em><a class="headerlink" href="#jiminy_py.simulator.Simulator.log_constants" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter of the telemetry constants.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.is_viewer_available">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">is_viewer_available</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#jiminy_py.simulator.Simulator.is_viewer_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not a viewer instance associated with the robot
is available.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.seed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the seed of the simulation and reset the simulation.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It also resets the low-level jiminy Engine. Therefore one must call
the <cite>reset</cite> method manually afterward.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Desired seed (Unsigned integer 32 bits).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remove_all_forces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the simulator.</p>
<p>It resets the simulation time to zero, and generate a new random model
of the robot. If one wants to get exactly the same result as before,
either set the randomness of the model and sensors to zero, or set the
seed once again to reinitialize the random number generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>remove_all_forces</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Whether or not to remove already registered external forces. Note
that it can also be done separately by calling <cite>remove_all_forces</cite>
method.
Optional: Do not remove by default.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q_init</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_init</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_state_theoretical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a simulation, starting from (q_init, v_init) at t=0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q_init</strong> (<em>numpy.ndarray</em>) – Initial configuration.</p></li>
<li><p><strong>v_init</strong> (<em>numpy.ndarray</em>) – Initial velocity.</p></li>
<li><p><strong>a_init</strong> (<em>Optional</em><em>[</em><em>numpy.ndarray</em><em>]</em>) – Initial acceleration. It is only used by acceleration
dependent sensors and controllers, such as IMU and force
sensors.</p></li>
<li><p><strong>is_state_theoretical</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Whether or not the initial state is
associated with the actual or theoretical
model of the robot.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step_dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate system dynamics from current state for a given duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>step_dt</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Duration for which to integrate. -1 to use default
duration, namely until the next breakpoint if any,
or ‘engine_options[“stepper”][“dtMax”]’.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.simulate">
<span class="sig-name descname"><span class="pre">simulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_init</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_init</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_state_theoretical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress_bar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.simulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.simulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a simulation, starting from x0=(q0,v0) at t=0 up to tf.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Optionally, log the result of the simulation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t_end</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Simulation end time.</p></li>
<li><p><strong>q_init</strong> (<em>numpy.ndarray</em>) – Initial configuration.</p></li>
<li><p><strong>v_init</strong> (<em>numpy.ndarray</em>) – Initial velocity.</p></li>
<li><p><strong>a_init</strong> (<em>Optional</em><em>[</em><em>numpy.ndarray</em><em>]</em>) – Initial acceleration.</p></li>
<li><p><strong>is_state_theoretical</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Whether or not the initial state is
associated with the actual or theoretical
model of the robot.</p></li>
<li><p><strong>log_path</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) – Save log data to this location. Disable if None.
Note that the format extension ‘.data’ is enforced.
Optional, disable by default.</p></li>
<li><p><strong>show_progress_bar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Whether or not to display a progress bar
during the simulation. None to enable only
if available.
Optional: None by default.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.render">
<span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_rgb_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_xyzrpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.render"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.render" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Render the current state of the simulation. One can display it</dt><dd><p>or return an RGB array instead.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Gepetto-gui supports parallel rendering, which means that one can
display multiple simulations at the same time in different tabs.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>return_rgb_array</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Whether or not to return the current frame as
an rgb array.</p></li>
<li><p><strong>width</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em>) – Width of the returned RGB frame, if enabled.</p></li>
<li><p><strong>height</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em>) – Height of the returned RGB frame, if enabled.</p></li>
<li><p><strong>camera_xyzrpy</strong> (<em>Optional</em><em>[</em><em>Tuple</em><em>[</em><em>Union</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>]</em><em>, </em><em>numpy.ndarray</em><em>]</em><em>, </em><em>Union</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>]</em><em>, </em><em>numpy.ndarray</em><em>]</em><em>]</em><em>]</em>) – Tuple position [X, Y, Z], rotation [Roll, Pitch,
Yaw] corresponding to the absolute pose of the
camera. None to disable.
Optional:None by default.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) – Extra keyword arguments to forward at <cite>Viewer</cite>
initialization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rendering as an RGB array (3D numpy array), if enabled, None
otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[numpy.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.replay">
<span class="sig-name descname"><span class="pre">replay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extra_logs_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_trajectories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.replay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.replay" title="Permalink to this definition">¶</a></dt>
<dd><p>Replay the current episode until now.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs</strong> (<em>Any</em>) – Extra keyword arguments for delegation to
<cite>replay.play_trajectories</cite> method.</p></li>
<li><p><strong>extra_logs_files</strong> (<em>Sequence</em><em>[</em><em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>numpy.ndarray</em><em>]</em><em>]</em>) – </p></li>
<li><p><strong>extra_trajectories</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="log.html#jiminy_py.log.TrajectoryDataType" title="jiminy_py.log.TrajectoryDataType"><em>jiminy_py.log.TrajectoryDataType</em></a><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the connection with the renderer.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enable_flexiblity_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Display common simulation data over time.</p>
<p>The figure features several tabs:</p>
<blockquote>
<div><ul class="simple">
<li><p>Subplots with robot configuration</p></li>
<li><p>Subplots with robot velocity</p></li>
<li><p>Subplots with robot acceleration</p></li>
<li><p>Subplots with motors torques</p></li>
<li><p>Subplots with raw sensor data (one tab for each type of sensor)</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enable_flexiblity_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Enable display of flexible joints in robot’s configuration,
velocity and acceleration subplots.
Optional: False by default.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) – Extra keyword arguments to forward to <cite>TabbedFigure</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.get_controller_options">
<span class="sig-name descname"><span class="pre">get_controller_options</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.get_controller_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.get_controller_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter of the options of Jiminy Controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.set_controller_options">
<span class="sig-name descname"><span class="pre">set_controller_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.set_controller_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.set_controller_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Setter of the options of Jiminy Controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.get_options">
<span class="sig-name descname"><span class="pre">get_options</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.get_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.get_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the options of robot (including controller), and engine.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a>, Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a>, Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a>, Any]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.set_options">
<span class="sig-name descname"><span class="pre">set_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.set_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.set_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the options of robot (including controller), and engine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>options</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>Any</em><em>]</em><em>]</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.export_options">
<span class="sig-name descname"><span class="pre">export_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.export_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.export_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Export the full configuration, ie the options of the robot (
including controller), and the engine.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>the configuration can be imported thereafter using <cite>import_options</cite>
method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config_path</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.9)"><em>os.PathLike</em></a><em>]</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.simulator.Simulator.import_options">
<span class="sig-name descname"><span class="pre">import_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/simulator.html#Simulator.import_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.simulator.Simulator.import_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Import the full configuration, ie the options of the robot (
including controller), and the engine.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Configuration can be exported beforehand using <cite>export_options</cite>
method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config_path</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.9)"><em>os.PathLike</em></a><em>]</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="dynamics.html" class="btn btn-neutral float-right" title="dynamics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="robot.html" class="btn btn-neutral float-left" title="robot" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Alexis Duburcq - MIT licence.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>